# Meta-Data-Workshop
Meta Data Workshop
功能
1：基于用户已有ddl语句文件（TXT，sp，SQL文件）快速提取并生成对应词典（database，schema，table，字段名，字段类型），可合并导出/分database、分schema/分table导出
2：对指定ddl语句文件添加系统字段（可定义正则）
3：已有ddl语句批量字段类型转换/映射（内置自建规则/通用数据库转换规则）
4.insert...select语句，insert....select（case语句...）批量生成

一、元数据提取与导出功能
 
1. 核心能力：支持读取用户上传的DDL语句文件（格式包括TXT、.sp、.SQL），自动解析文件中的数据库结构信息。
2. 提取内容：需精准识别并提取以下层级的元数据：
- 数据库（Database）
- 模式（Schema）
- 表（Table）
- 字段名（Column Name）
- 字段类型（Column Type）
3. 导出方式：提供灵活的导出选项，满足不同场景需求：
- 全量合并导出：将所有提取的元数据（跨数据库、模式、表）合并为一份文件导出
- 分层导出：支持按“数据库”“模式”“表”三级维度分别导出对应元数据（如仅导出某数据库下的所有表结构，或仅导出某表的字段信息）
4. 导出格式：支持常见的结构化格式（如Excel、CSV、JSON），方便后续分析或导入其他系统。
 
二、系统字段批量添加功能
 
1. 功能目标：允许用户为指定的DDL语句文件中的表批量添加预设的系统字段（如创建时间、更新时间、操作人等）。
2. 自定义规则：支持用户通过正则表达式定义字段添加规则，包括：
- 字段名格式（如固定前缀/后缀）
- 字段类型（如DATETIME、VARCHAR等）
- 字段默认值（如CURRENT_TIMESTAMP）
- 添加位置（如在表结构的首行/末行插入）
3. 批量应用：可选择单个表、多个表或全量表执行添加操作，并生成修改后的DDL文件供用户下载。
 
三、字段类型批量转换/映射功能
 
1. 转换规则管理：支持两种规则来源，满足通用性和个性化需求：
- 内置通用规则：预设主流数据库间的字段类型转换规则（如MySQL与Oracle、PostgreSQL的类型映射，如INT→INTEGER、VARCHAR→NVARCHAR等）
- 自定义规则：允许用户手动配置字段类型映射关系（如将所有VARCHAR(255)统一转换为VARCHAR(500)，或自定义枚举类型映射）
2. 批量执行：选择目标DDL文件后，可按规则批量转换文件中所有表的字段类型，并生成转换后的DDL语句，支持对比查看转换前后的差异。
 
四、SQL语句批量生成功能
 
1. Insert...Select语句生成：
- 基础生成：根据指定表结构，自动生成 INSERT ... SELECT 语句（含字段名映射）
- 复杂场景支持：支持包含 CASE 语句的 INSERT ... SELECT 生成，可识别源表与目标表的字段关系，自动填充条件判断逻辑（如 CASE WHEN 条件 THEN 值 ELSE 默认值 END ）
2. Drop Table语句生成：
- 根据DDL文件中的表结构，批量生成 DROP TABLE 语句，支持按“数据库+模式+表”的完整路径生成（如 DROP TABLE db.schema.table; ），避免误删风险。
3. 生成选项：支持选择生成范围（单个表/多个表/全量表），并可设置语句格式（如是否添加注释、分号分隔等）。
 
五、基础交互与体验要求
 
1. 文件操作：支持文件上传（单文件/多文件批量上传）、文件预览、历史文件管理（临时保存最近处理的文件）。
2. 操作反馈：执行提取、转换、生成等操作后，实时显示处理进度和结果统计（如“成功提取10张表，共200个字段”“已生成50条DROP语句”）。
3. 兼容性：支持主流数据库的DDL语法（如MySQL、Oracle、SQL Server、PostgreSQL），减少语法解析误差。
 
请基于以上需求，设计一款界面简洁、操作高效的工具，核心解决数据库元数据处理中的重复劳动问题，提升开发或运维效率。如果有优化建议（如新增实用功能、简化操作流程等），也可补充说明。
